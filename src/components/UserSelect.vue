<script lang="ts">
import { defineComponent, ref } from 'vue';

// import types
import { User } from 'components/types';

export default defineComponent({
  name: 'UserSelect',
  props: {
    options: {
      type: Array as () => User[],
    },
  },
  setup() {
    const user = ref({
      label: 'User 1',
      value: '1',
      image: 'https://picsum.photos/id/40/300/300',
    });

    return {
      user,
    };
  },
});
</script>

<template>
  <div class="user-select" data-cy="user-select">
    <!-- User dropdown -->
    <q-select
      rounded
      standout
      v-model="user"
      :options="options"
      class="pt-0"
      data-cy="user-select-input"
    >
      <template v-slot:prepend>
        <!-- User image -->
        <q-avatar size="56px" data-cy="avatar">
          <img :src="user.image" :alt="user.label" />
        </q-avatar>
      </template>
    </q-select>
  </div>
</template>

<style scoped lang="scss">
.user-select :deep(.q-field__inner .q-field__control) {
  padding-left: 0;
}
</style>
